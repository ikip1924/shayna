{"remainingRequest":"/home/rifky/shayna/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rifky/shayna/src/views/ShopingCart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rifky/shayna/src/views/ShopingCart.vue","mtime":1603555188239},{"path":"/home/rifky/shayna/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rifky/shayna/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/rifky/shayna/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rifky/shayna/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXJTaGF5bmEgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlclNoYXluYS52dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZToiY2FydCIsCiAgICBjb21wb25lbnQ6ewogICAgICAgIEhlYWRlclNoYXluYQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybnsKICAgICAgICAgICAga2VyYW5qYW5nVXNlcjogW10sCiAgICAgICAgICAgIGN1c3RvbWVySW5mbzogewogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICBlbWFpbDogJycsCiAgICAgICAgICAgICAgICBudW1iZXI6ICcnLAogICAgICAgICAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgICAgIH0KICAgICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgICAgICByZW1vdmVJdGVtKGluZGV4KXsKICAgICAgICAgICAgdGhpcy5rZXJhbmphbmdVc2VyLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04uc3RyaW5naWZ5KHRoaXMua2VyYW5qYW5nVXNlcik7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdrZXJhbmphbmdVc2VyJywgcGFyc2VkKTsKICAgICAgICB9LAogICAgLy8gICBmdW5nc2kgbWVuZ2lyaW0gZGF0YSBrZSBBUEkKICAgICAgICBjaGVja291dCgpewogICAgICAgICAgICBsZXQgcHJvZHVjdElkcyA9IHRoaXMua2VyYW5qYW5nVXNlci5tYXAoZnVuY3Rpb24ocHJvZHVjdCl7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvZHVjdC5pZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGxldCBjaGVja291dERhdGEgPSB7CiAgICAgICAgICAgICAgICAnbmFtZSc6IHRoaXMuY3VzdG9tZXJJbmZvLm5hbWUsCiAgICAgICAgICAgICAgICAnZW1haWwnOiB0aGlzLmN1c3RvbWVySW5mby5lbWFpbCwKICAgICAgICAgICAgICAgICdudW1iZXInOiB0aGlzLmN1c3RvbWVySW5mby5udW1iZXIsCiAgICAgICAgICAgICAgICAnYWRkcmVzcyc6IHRoaXMuY3VzdG9tZXJJbmZvLmFkZHJlc3MsCiAgICAgICAgICAgICAgICAndHJhbnNhY3Rpb25fdG90YWwnOiB0aGlzLnRvdGFsQmlheWEsCiAgICAgICAgICAgICAgICAndHJhbnNhY3Rpb25fc3RhdHVzJzogIlBFTkRJTkciLAogICAgICAgICAgICAgICAgJ3RyYW5zYWN0aW9uX2RldGFpbHMnOiBwcm9kdWN0SWRzLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLnBvc3QoImh0dHA6Ly9zaGF5bmEtbGFyYXZlbC50ZXN0L2FwaS9jaGVja291dCIsIGNoZWNrb3V0RGF0YSkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy4kcm91dGVyLnB1c2goInN1Y2Nlc3MiKSkKICAgICAgICAgICAgLmNhdGNoKGVycj0+Y29uc29sZS5sb2coZXJyKSkKICAgICAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tlcmFuamFuZ1VzZXInKSkgewogICAgICB0cnkgewogICAgICAgIHRoaXMua2VyYW5qYW5nVXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tlcmFuamFuZ1VzZXInKSk7CiAgICAgIH0gY2F0Y2goZSkgeyAgCiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2tlcmFuamFuZ1VzZXInKTsKICAgICAgICAKICAgICAgfQogICAgfSAgIAogIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIHRvdGFsSGFyZ2EoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmtlcmFuamFuZ1VzZXIucmVkdWNlKGZ1bmN0aW9uKGl0ZW1zLGRhdGEpewogICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zICsgZGF0YS5wcmljZTsKICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgfSwKICAgICAgICBkaXRhbWJhaFBhamFrKCl7CiAgICAgICAgICAgIHJldHVybiAodGhpcy50b3RhbEhhcmdhKjEwKSAvIDEwMDsKICAgICAgICB9LAogICAgICAgIHRvdGFsQmlheWEoKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudG90YWxIYXJnYSArIHRoaXMuZGl0YW1iYWhQYWphazsKICAgICAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ShopingCart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ShopingCart.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"Shoping\">\n        <HeaderShayna/>\n          <!-- Breadcrumb Section Begin -->\n    <div class=\"breacrumb-section\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-lg-12 text-left\">\n                    <div class=\"breadcrumb-text product-more\">\n                        <router-link to=\"/\"><i class=\"fa fa-home\"></i> Home\n                        </router-link>\n                        <span>Shopping Cart</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <!-- Breadcrumb Section Begin -->\n\n    <!-- Shopping Cart Section Begin -->\n    <section class=\"shopping-cart spad\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-lg-8\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                            <div class=\"cart-table\">\n                                <table>\n                                    <thead>\n                                        <tr>\n                                            <th>Image</th>\n                                            <th class=\"p-name text-center\">Product Name</th>\n                                            <th>Price</th>\n                                            <th>Action</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                       \n                                        <tr v-for=\"keranjang in keranjangUser\" :key=\"keranjang.id\">\n                                            <td class=\"cart-pic first-row\">\n                                                <img class=\"img-cart\" :src=\"keranjang.photo\" />\n                                            </td>\n                                            <td class=\"cart-title first-row text-center\">\n                                                <h5>{{keranjang.name}}</h5>\n                                            </td>\n                                            <td class=\"p-price first-row\">Rp. {{keranjang.price}}</td>\n                                            <td @click=\"removeItem(keranjangUser.index)\" class=\"si-close\">\n                                                <i class=\"ti-close\"></i>\n                                                \n                                            </td>\n                                        </tr>\n                                       \n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                        <div class=\"col-lg-8\">\n                            <h4 class=\"mb-4 text-left\">\n                                Informasi Pembeli:\n                            </h4>\n                            <div class=\"user-checkout text-left\">\n                                <form>\n                                    <div class=\"form-group\">\n                                        <label for=\"namaLengkap\">Nama lengkap</label>\n                                        <input type=\"text\" class=\"form-control\" id=\"namaLengkap\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Nama\" v-model=\"customerInfo.name\">\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label for=\"namaLengkap\">Email Address</label>\n                                        <input type=\"email\" class=\"form-control\" id=\"emailAddress\" aria-describedby=\"emailHelp\" placeholder=\"Masukan Email\" v-model=\"customerInfo.email\"> \n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label for=\"namaLengkap\">No. HP</label>\n                                        <input type=\"text\" class=\"form-control\" id=\"noHP\" aria-describedby=\"noHPHelp\" placeholder=\"Masukan No. HP\" v-model=\"customerInfo.number\">\n                                    </div>\n                                    <div class=\"form-group\">\n                                        <label for=\"alamatLengkap\">Alamat Lengkap</label>\n                                        <textarea class=\"form-control\" id=\"alamatLengkap\" rows=\"3\" v-model=\"customerInfo.address\"></textarea>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-lg-4\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-12\">\n                            <div class=\"proceed-checkout text-left\">\n                                <ul>\n                                    <li class=\"subtotal\">\n                                        ID Transaction \n                                        <span>#SH12000</span>\n                                    </li>\n                                    <li class=\"subtotal mt-3\">\n                                        Subtotal \n                                        <span>Rp {{totalHarga}} </span>\n                                    </li>\n                                    <li class=\"subtotal mt-3\">\n                                        Pajak \n                                        <span>10% Rp. {{ totalHarga*10/100 }}</span>\n                                    </li>\n                                    <li class=\"subtotal mt-3\">\n                                        Total Biaya \n                                        <span>Rp. {{totalBiaya}}</span>\n                                    </li>\n                                    <li class=\"subtotal mt-3\">\n                                        Bank Transfer \n                                        <span>Mandiri</span>\n                                    </li>\n                                    <li class=\"subtotal mt-3\">\n                                        No. Rekening \n                                        <span>2208 1996 1403</span>\n                                    </li>\n                                    <li class=\"subtotal mt-3\">\n                                        Nama Penerima \n                                        <span>Shayna</span>\n                                    </li>\n                                </ul>\n                                <!-- <router-link to=\"/success\"> -->\n                                    <a @click=\"checkout()\" href=\"#\" class=\"proceed-btn\">I ALREADY PAID</a>\n                                <!-- </router-link> -->\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    <!-- Shopping Cart Section End -->\n\n    </div>\n</template>\n\n<script>\nimport HeaderShayna from '@/components/HeaderShayna.vue';\nimport axios from \"axios\";\n\nexport default {\n    name:\"cart\",\n    component:{\n        HeaderShayna\n    },\n    data() {\n      return{\n            keranjangUser: [],\n            customerInfo: {\n                name: '',\n                email: '',\n                number: '',\n                address: '',\n            }\n      };\n  },\n  methods: {\n        removeItem(index){\n            this.keranjangUser.splice(index, 1);\n            const parsed = JSON.stringify(this.keranjangUser);\n            localStorage.setItem('keranjangUser', parsed);\n        },\n    //   fungsi mengirim data ke API\n        checkout(){\n            let productIds = this.keranjangUser.map(function(product){\n                return product.id\n            });\n\n            let checkoutData = {\n                'name': this.customerInfo.name,\n                'email': this.customerInfo.email,\n                'number': this.customerInfo.number,\n                'address': this.customerInfo.address,\n                'transaction_total': this.totalBiaya,\n                'transaction_status': \"PENDING\",\n                'transaction_details': productIds,\n            };\n\n            axios\n            .post(\"http://shayna-laravel.test/api/checkout\", checkoutData)\n            .then(() => this.$router.push(\"success\"))\n            .catch(err=>console.log(err))\n        }\n  },\n  mounted(){\n          if (localStorage.getItem('keranjangUser')) {\n      try {\n        this.keranjangUser = JSON.parse(localStorage.getItem('keranjangUser'));\n      } catch(e) {  \n        localStorage.removeItem('keranjangUser');\n        \n      }\n    }   \n  },\n    computed: {\n        totalHarga() {\n            return this.keranjangUser.reduce(function(items,data){\n                return items + data.price;\n            }, 0);\n        },\n        ditambahPajak(){\n            return (this.totalHarga*10) / 100;\n        },\n        totalBiaya(){\n            return this.totalHarga + this.ditambahPajak;\n        }\n  }\n}\n</script>\n<style scoped>\n.img-cart{\n    width: 100px;\n    height: 100px;\n}\n</style>"]}]}